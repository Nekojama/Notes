---
publish: true
icon: LiCheck
---

<div class="printable-title-container">

```dataviewjs
const repoUrl = "https://github.com/Nekojama/Notes";
const fileName = dv.current().file.name;
const mtime = dv.current().file.mtime.toFormat("yy-MM-dd");
const fullHtml = `
<div class="printable-title-container">
  <h1 class="printable-title">${fileName}</h1>
  <div class="custom-divider"></div>
  <a href="${repoUrl}" target="_blank" class="printable-version-info">
    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
    <span>检查更新</span>
    <span class="version-date-badge">${mtime}</span>
  </a>
</div>
`;
dv.paragraph(fullHtml);
```
</div>

这篇文章启发自以下的一个思考.
>[!faq] 思考 1
>完全平方数和素数，谁更"多"?

常规来看，完全平方数和素数都是自然数的子集，那么自然地，我们需要对比这两个集的势，也就是说，通过建立一一对应的方式来比较集合的大小.

但是，为什么构造一一对应映射是一个**合理的**操作呢? 更进一步地，讨论势时，我们**具体**在讨论什么?

第一个问题可以举出这样的例子:
>[!example] 例 1（自然数和整数一样"多"）

我们已知能通过自然数对 $(a,b)$ 给出一个 $\mathbb{N}\times \mathbb{N}\to \mathbb{Z}$ 的映射，这告诉我们能把自然数和整数对应起来，或者，更直接地，给出如下映射:
$$
\begin{array}\\
0 &1 &2 &3 &4\\
\downarrow &\downarrow &\downarrow &\downarrow &\downarrow &\cdots\\
0 &1 &-1 &2 &-2\\
\end{array}
$$
这可以形式性地写成:
$$
a_{n}=\left\{
\begin{array}\\
-\frac{n}{2},\quad n\;is\;even \\
\frac{{n+1}}{2},\quad n\;is\;odd
\end{array}
\right.
$$ 
或
$$
a_{n}=a_{n-1}+(-1)^{n-1}n,\;n\in \mathbb{N}
$$
很明显这是一个自然数到整数的一一对应. 这也就是说，任给一个自然数，我们都能找到一个唯一的整数与之对应，所以整数和自然数是一样多的.
$\clubsuit$
例 1告诉我们通过构造一一对应的映射来确定集合的大小是合理的.

第二个问题稍微有些棘手，我们举下面的这一个例子来说明:
>[!example] 例 2 (实数比自然数"多") 

已知这样的说法是不行的: 任给第 n 个自然数，可以找到 $(0,1)$ 中的"第 n 个元素"与之对应，也即 $(0,1)$ 和 $\mathbb{N}$ 建立不起来一个一一映射. 这个论断可以用 Cantor 对角法证明，在这里不多赘述.

有没有更根本一点的原因? 我想可以这样解释:

因为 $(0,1)\subset\mathbb{R}$，而回忆我们为了绕过 Russell 悖论所采取的对集合论的巧妙修改:我们不说 $\{x:x满足某种性质\}$ 是一个集合，而说 $\{x\in X:满足某种性质\}$ 是一个集合，其中 $X$ 是一个已有的集合. 这样，通过限制 $x$ 属于的集合的性质，我们构造了"性质更好"的集合. 那么，$(0,1)$ 可以写成 $\{x\in \mathbb{R}:x\in(0,1)\}$，即我们讨论 $(0,1)$ 中数的性质时，首先讨论的是其作为实数的性质. 既然实数集在通常意义上不是良序集，且自然数集是良序集，那么建立起这两个集合之间的一一对应映射就根本无从谈起.
$\clubsuit$
所以，例 2 告诉我们在讨论"势"的时候，实际上我们在讨论集合**背后的**集合的性质. 

实际上还可以举出一个诡异的谬误，对于 Dirichlet 函数，去找它的"第一个间断点"，"第二个间断点"... 最后得出结论间断点至多可数，所以它们在做Riemann 积分时可去，所以 Dirichlet 函数 Riemann 可积! 而这当然是不可能的. 因为 Dirichlet 函数在 $\mathbb{R}$ 上处处不连续，每个间断点都是一个实数，上述讨论当然不成立.

综上，我们可以构造一一映射对比两个集合的"大小"，而且，既然完全平方数构成的集合和素数构成的集合是自然数集的子集，它们的性质应当是类似的，这保证了对比的"可行性".

很明显，可以给出如下映射:
$$
a_{n}=n^2,\quad n\in \mathbb{N}
$$
作为自然数到完全平方数的一一映射，说明自然数和完全平方数等势.

同时，根据 Wilson 定理，可以给出这样一个Willans公式(Willans 1964; Havil 2003, pp. 168-169):
$$
p_{n}=1+\sum_{i=1}^{2^n}\left\lfloor  \left( \frac{n}{\sum_{j=1}^{i}\left\lfloor  \cos^2\left( \pi\frac{(j-1)!+1}{j} \right) \right\rfloor} \right)^\frac{1}{n} \right\rfloor,\quad n \in \mathbb{N}
$$
虽然非常复杂，但是它确实给出来了一个 $\mathbb{N} \to \mathbb{P}$ 的一一映射，其中 $\mathbb{P}$ 是素数集.

既然完全平方数和素数都和自然数等势，所以它们相互等势，所以它们是一样"多"的.

问题似乎到这里就结束了，但所谓"温故而知新"，还有没有什么方法可以证明这个论断? 答案自然是有，取它们的倒数再来求和.

但到了这里我们又要问了，为什么取倒数再求和可以证明一个集合的大小? 

大概可以这样理解:
设存在一个集合 A= $\{x \in X:x=a_{n},n\in \mathbb{N_{+}}\}$，对它其中的元素取倒数求和，记做 $s$，我们有
$$
s=\sum_{n=1}^{\infty}\frac{1}{a_n}
$$
如果能通过一定的分析，得到
$$
s=\sum_{n=1}^{\infty}\frac{1}{a_n}\leq\sum_{n=1}^\infty\frac{C}{n^p}=C\sum_{n=1}^\infty\frac{1}{n^p}
$$
那么通过级数的 p-判别法和比较判别法，我们就能得到 s 是否收敛.
回忆 p-判别法的收敛条件，当且仅 $p>1$ 时 p-级数收敛.这在暗示我们:**如果一个这样的级数收敛，那么它的通项公式 $a_{n}$ 至少为O($n^p$)**，其中 $p>1$. 这是什么意思呢? 把它对应到数轴上来，也就是说这个级数的通项公式在数轴上"插值"时间隔至少为 $\Delta n^p$，更进一步地，它在数轴上的"稀疏程度"可以用 $\Delta n^p$ 来刻画，其中 $\Delta$ 代表差分.

著名的 Basel 问题告诉我们
$$
\sum_{n=1}^\infty\frac{1}{n^2}=\frac{\pi^2}{6}
$$
而调和级数却有
$$
\sum_{n=1}^{\infty}\frac{1}{n}=+\infty
$$
表明 $n^2$ 的稀疏程度是少于 $n$ 的，这符合我们的直观.

但是，考虑所有素数的倒数和时，我们有
$$
\begin{align}
\ln\left(\sum_{n=1}^{\infty}\frac{1}{n} \right)&=\ln\left(\prod_{p}\frac{1}{1-p^{-1}}\right)=\sum_{p}\ln\left( \frac{1}{1-p^{-1}} \right)=\sum_{p}-\ln(1-p^{-1}) \\
&=\sum_{p}\left( \frac{1}{p} +\frac{1}{2p^2}+\frac{1}{3p^3}+\dots\right)=\left( \sum_{p}\frac{1}{p} \right)+\sum_{p}\frac{1}{p^2}\left( \frac{1}{2}+\frac{1}{3p}+\frac{1}{4p^2} +\dots\right) \\
&<\left( \sum_{p}\frac{1}{p} \right)+\sum_{p}\frac{1}{p^2}\left( 1+\frac{1}{p}+\frac{1}{p^2}+\dots \right)=\left(\sum_{p}\frac{1}{p} \right)+\left( \sum _{{p}} \frac{1}{p(p-1)}\right) \\
&=\left( \sum_{p}\frac{1}{p} \right)+C
\end{align}
$$
其中 $p\in \mathbb{P}$. 当 n 逐渐增大时，上式左边趋于无穷大，所以素数的倒数和发散.
这告诉我们，素数在数轴上的疏密程度，实际上，是比完全平方数"更密"的，也就是说，素数比完全平方数更"多".